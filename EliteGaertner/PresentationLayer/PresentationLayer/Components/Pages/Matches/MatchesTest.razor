@page "/MatchesTest"
@rendermode InteractiveServer
@inject NavigationManager Nav

<!-- ohne rendermode InteractiveServer sind die Buttons nicht funktionsfähig -->

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<div class="mobile-container">
    <header class="top-bar">
        <div class="icon-wrapper left" @onclick="GoToRanks">
            <img src="pictures/Rangliste.png" alt="Rangliste" height="40" /> 
            <span class="icon-label">Rangliste</span>
        </div>
        
        <h1 class="page-title">Meine Matches</h1>
        
        <div class="icon-wrapper right">
            <span class="hamburger-icon">☰</span>
        </div>
    </header>

    <div class="scroll-content">
        @foreach (var match in Matches)
        {
            <div class="match-card">
                <div class="card-inner">
                    <!-- anklickbarer username...link zum profil-->
                    <a class="username-link" href="@($"/profil/{match.UsernameUrl}")">
                        <div class="username">@match.UserName</div>
                    </a>

                    <div class="info-row">
                        <span class="label">Tel:</span> @match.Phone
                    </div>
                    <div class="info-row">
                        <span class="label">E-Mail:</span> @match.Email
                    </div>
                </div>
            </div>
        }
    </div>

    <footer class="bottom-nav">
        <div class="nav-item active" @onclick="GoToMatches">
            <img src="pictures/MatchesIcon.png" alt="Matches" height="40" /> 
            <span>Matches</span>
        </div>
        
        <div class="nav-item" @onclick="GoToMainpage">
            <img src="pictures/EliteGärtner_logo.png" alt="EliteGärtner" height="40" /> 
            <span class="elitegaertner-title mt-2" style="font-weight: 600; font-size: 1.0rem">EliteGärtner.</span>
        </div>
        
        <div class="nav-item" @onclick="GoToProfile">
            <img src="pictures/Profil_04.png" alt="Profile" height="40" /> 
            <span>Profil</span>
        </div>
    </footer>
</div>

@code {
    public class UserMatch
    {
        public string UserName { get; set; } = "";
        public string Phone { get; set; } = "";
        public string Email { get; set; } = "";
        
        // Liefert den Namen ohne '@' für die URL
        public string UsernameUrl => UserName.TrimStart('@');
    }

    private List<UserMatch> Matches = new List<UserMatch>
    {
        new UserMatch { UserName = "@user_name1", Phone = "+49 12345678901", Email = "max.mustermann@gmail.com" },
        new UserMatch { UserName = "@user_name3", Phone = "+49 8415 7563344", Email = "reiner.zufall@gmx.de" },
        new UserMatch { UserName = "@user_name4", Phone = "+49 98765432109", Email = "elite.gaertner69@gmail.com" },
        new UserMatch { UserName = "@user_name5", Phone = "+49 34523045646", Email = "6sieben.atze3@web.de" },
    };

    
    private void GoToRanks()
    {
        Nav.NavigateTo("/RanglisteTest", forceLoad: true);
    }
    
    private void GoToMatches()
    {
        Nav.NavigateTo("/MatchesTest", forceLoad: true);
    }
    
    private void GoToMainpage()
    {
        Nav.NavigateTo("/startseite", forceLoad: true);
    }
    
    private void GoToProfile()
    {
        Nav.NavigateTo("/ProfilTest", forceLoad: true);
    }
}


<style>
   
    .username-link {
        text-decoration: none; /* Entfernt die Unterstreichung vom Link */
        color: white; 
        display: block; 
        cursor: pointer;
    }
    
    .username-link:hover {
        opacity: 0.8; 
    }


    .match-card {
        background-color: #8894ff; 
        border-radius: 15px;
        padding: 5px; 
        margin-bottom: 20px; 
        box-shadow: 2px 2px 0px rgba(0,0,0,0.1); 
        border: 2px solid rgba(255,255,255,0.5); 
    }
    
    .mobile-container {
        font-family: 'Patrick Hand', cursive, sans-serif; /* schriftart nach comic style...find ich ganz nice, passt zum vibe der webapp, aber optional */
        display: flex;
        flex-direction: column;
        height: 100vh;
        max-width: 100%;
        background-color: white;
        overflow: hidden;
    }

    .top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 15px;
        background: white;
        z-index: 10;
    }

    .page-title {
        font-size: 1.8rem;
        margin: 0;
        font-weight: bold;
        color: black;
    }

    .icon-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        width: 60px;
    }

    .icon-label {
        font-size: 0.8rem;
        line-height: 1;
        color: black;
    }

    .emoji-icon, .hamburger-icon {
        font-size: 1.5rem;
        color: black;
    }
    
    .hamburger-icon {
        font-size: 2rem;
    }

    .scroll-content {
        flex: 1;
        overflow-y: auto;
        padding: 10px 20px;
        scrollbar-width: thin;
    }

    .match-card {
        background-color: #8894ff; 
        border-radius: 15px;
        padding: 5px; 
        margin-bottom: 20px;
        box-shadow: 2px 2px 0px rgba(0,0,0,0.1); 
        border: 2px solid rgba(255,255,255,0.5); 
    }

    .card-inner {
        padding: 10px 15px;
        color: white;
        font-size: 1.2rem;
        line-height: 1.4;
    }

    .username {
        font-size: 1.5rem;
        margin-bottom: 5px;
        display: block;
        font-weight: bold;
    }

    .info-row {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .label {
        margin-right: 5px;
    }

    .bottom-nav {
        display: flex;
        justify-content: space-around;
        align-items: flex-end;
        padding: 10px 0 20px 0;
        background: white;
        border-top: 1px solid #eee;
    }

    .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        font-size: 0.9rem;
        width: 80px;
        text-align: center;
        color: black;
    }

    .nav-icon {
        font-size: 2rem; 
        margin-bottom: 5px;
    }

    .nav-item:hover {
        transform: scale(1.05);
        transition: transform 0.2s;
    }
</style>